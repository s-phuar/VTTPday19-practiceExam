<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <form method="GET" action="/listing"> 
        <h1>Choose a status filter:</h1>
        <select name="choice">
            <option value="pending">Pending</option>
            <option value="started">Started</option>
            <option value="in_progress">Progress</option>
            <option value="completed">Completed</option>
        </select>
        <button type="submit">go</button>
    </form>
    <a href="/newTask">add task</a>


    <table>
        <thead>
            <tr>
                <th>id</th>
                <th>name</th>
                <th>description</th>
                <th>due date</th>
                <th>priority</th>
                <th>status</th>
                <th>created at</th>
                <th>updated at</th>
            </tr>
        </thead>
        <tbody>
            <tr data-th-each="fil: ${filtered}">
                <td data-th-utext="${fil.id}"></td>
                <td data-th-utext="${fil.name}"></td>
                <td data-th-utext="${fil.description}"></td>
                <td data-th-utext="${fil.dueDate}"></td>
                <td data-th-utext="${fil.priority}"></td>
                <td data-th-utext="${fil.status}"></td>
                <td data-th-utext="${fil.createdAt}"></td>
                <td data-th-utext="${fil.updatedAt}"></td>

                <td>                    
                    <form action=# th:action="@{/delete/{id}(id=${fil.id})}" method="POST" style="display:inline;">
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this record?')">Delete</button>
                    </form>
                </td>
                <td>                    
                    <form action=# th:action="@{/update/{id}(id=${fil.id})}" method="POST" style="display:inline;">
                        <button type="submit" onclick="return confirm('Are you sure you want to update this record?')">Update</button>
                    </form>
                </td>
            </tr>        
        </tbody>
    </table>

    
</body>
</html>